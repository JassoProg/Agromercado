<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Agromercado</title>
        <!-- Font Awesome Cdn Link -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
        <link href="../../style/style2.css" rel="stylesheet" type="text/css"/>
        <!-- SweetAlert CDN -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <style>
            .input-field {
                position: relative;
            }

            .password-container {
                display: flex;
                align-items: center;
            }

            .password-container input {
                width: calc(100% - 30px); /* Resta el ancho del ícono del ojo */
            }

            .password-container i {
                position: absolute;
                right: 5px; /* Ajusta la posición del ícono */
                cursor: pointer;
            }
            .seccion-perfil-usuario .perfil-usuario-body,
            .seccion-perfil-usuario {
                display: flex;
                flex-wrap: wrap;
                flex-direction: column;
                align-items: center;
            }

            .seccion-perfil-usuario .perfil-usuario-header {
                width: 100%;
                display: flex;
                justify-content: center;
                margin-bottom: 1.25rem;
            }

            .seccion-perfil-usuario .perfil-usuario-portada {
                display: block;
                position: relative;
                width: 90%;
                height: 17rem;
                background-image: linear-gradient(45deg, #9ACD32, #06922D);
                border-radius: 0 0 20px 20px;
            }

            .seccion-perfil-usuario .perfil-usuario-portada .boton-portada {
                position: absolute;
                top: 1rem;
                right: 1rem;
                border: 0;
                border-radius: 8px;
                padding: 12px 25px;
                background-color: rgba(0, 0, 0, .5);
                color: #fff;
                cursor: pointer;
            }

            .seccion-perfil-usuario .perfil-usuario-portada .boton-portada i {
                margin-right: 1rem;
            }

            .seccion-perfil-usuario .perfil-usuario-avatar {
                display: flex;
                width: 180px;
                height: 180px;
                align-items: center;
                justify-content: center;
                border: 7px solid #FFFFFF;
                background-color: #DFE5F2;
                border-radius: 50%;
                box-shadow: 0 0 12px rgba(0, 0, 0, .2);
                position: absolute;
                bottom: -40px;
                left: calc(50% - 90px);
                z-index: 1;
            }

            .seccion-perfil-usuario .perfil-usuario-avatar img {
                width: 100%;
                position: relative;
                border-radius: 50%;
            }

            .seccion-perfil-usuario .perfil-usuario-avatar .boton-avatar {
                position: absolute;
                left: -2px;
                top: -2px;
                border: 0;
                background-color: #fff;
                box-shadow: 0 0 12px rgba(0, 0, 0, .2);
                width: 45px;
                height: 45px;
                border-radius: 50%;
                cursor: pointer;
            }

            .seccion-perfil-usuario .perfil-usuario-body {
                width: 80%;
                position: relative;
                max-width: 750px;
            }

            .seccion-perfil-usuario .perfil-usuario-body .titulo {
                display: block;
                width: 100%;
                font-size: 1.75em;
                margin-bottom: 0.5rem;
            }

            .seccion-perfil-usuario .perfil-usuario-body .texto {
                color: #848484;
                font-size: 0.95em;
            }

            .seccion-perfil-usuario .perfil-usuario-compras,
            .seccion-perfil-usuario .perfil-usuario-datos {
                flex-wrap: wrap;
                padding: 1.5rem 2rem;
                box-shadow: 0 0 12px rgba(0, 0, 0, .2);
                background-color: #fff;
                border-radius: 15px;
                width: 100%;
                align-content: center;
            }

            .seccion-perfil-usuario .perfil-usuario-datos {
                margin-bottom: 1.25rem;
                text-align: center;
            }

            .seccion-perfil-usuario .perfil-usuario-datos form {
                display: flex;
                justify-content: center;
                align-items: flex-start; /* Alinea los elementos al principio */
                margin-top: 20px; /* Aumenta el margen superior */
            }

            .seccion-perfil-usuario .perfil-usuario-datos form .form-column {
                width: 50%; /* Divide el formulario en dos columnas */
                padding: 0 10px; /* Añade un poco de espacio horizontal entre los elementos */
            }

            .seccion-perfil-usuario .perfil-usuario-datos form .input-field {
                margin-bottom: 20px;
            }

            .seccion-perfil-usuario .perfil-usuario-datos form .input-field input,
            .seccion-perfil-usuario .perfil-usuario-datos form .input-field select {
                width: 100%;
                padding: 10px;
                border-radius: 5px;
                border: 1px solid #ccc;
                font-size: 16px; /* Ajusta el tamaño de la fuente */
            }

            .seccion-perfil-usuario .perfil-usuario-datos form .input-field label {
                margin-bottom: 5px;
                font-weight: bold;
                display: block; /* Hace que las etiquetas de texto estén en una línea separada */
            }

            /* adactacion a dispositivos */
            @media (max-width: 750px) {
                .seccion-perfil-usuario .lista-datos {
                    width: 100%;
                }

                .seccion-perfil-usuario .perfil-usuario-portada,
                .seccion-perfil-usuario .perfil-usuario-body {
                    width: 95%;
                }
            }

            /* Compras section */
            .perfil .card {
                display: flex;
                margin: 10px ; /* Centrado horizontalmente si es necesario */
                background: #fff;
                border-radius: 10px;
                padding: 10px;
                box-shadow: 0 20px 35px rgba(0, 0, 0, 0.1);
            }

            .perfil-image {
                flex: 1;
            }

            .perfil-image img {
                max-width: 100%;
                border-radius: 10px; /* Opcional: para hacer las imágenes redondeadas */
            }

            .perfil-details {
                flex: 2;
                padding-left: 20px;
                color: #333;
            }

            .perfil-details p {
                margin-bottom: 5px;
                font-size: 14px;
            }
            .formUsuario {
                display: flex;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <nav>
                <ul>
                    <li><a href="#" class="logo">
                            <img src="../../media/img/logoAgromercado2.png" alt=""/>
                            <span class="nav-item">Agromer</span>
                        </a></li>
                    <li><a href="../principal.html">
                            <i class="fas fa-home"></i>
                            <span class="nav-item">Inicio</span>
                        </a></li>
                    <li><a href="../productos/productos.html">
                            <i class="fas fa-box"></i>
                            <span class="nav-item">Productos</span>
                        </a></li>
                    <li><a href="../compras/compras.html">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="nav-item">Compras</span>
                        </a></li>
                    <li><a href="../ventas/ventas.html">
                            <i class="fas fa-dollar-sign"></i>
                            <span class="nav-item">Ventas</span>
                        </a></li>
                    <li><a href="../perfil/perfil.html">
                            <i class="fas fa-user"></i>
                            <span class="nav-item">Perfil</span>
                        </a></li>
                    <li><a onclick="eliminarToken();" class="logout">
                            <i class="fas fa-sign-out-alt"></i>
                            <span class="nav-item">Salir</span>
                        </a></li>
                </ul>
            </nav>
            <section class="main">
                <section class="seccion-perfil-usuario">
                    <div class="perfil-usuario-header">
                        <div class="perfil-usuario-portada">
                            <div class="perfil-usuario-avatar">
                                <img src="../../media/img/perfil.jpg" alt=""/>
                                <button type="button" class="boton-avatar">
                                    <i class="far fa-image"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="perfil-usuario-body">
                        <div class="perfil-usuario-datos">
                            <h3>Datos de Acceso</h3>
                            <form>
                                <div class="form">
                                    <div class="form-column">
                                        <div class="input-field">
                                            <label>Nombre de usuario</label>
                                            <input id="txtNombreUsuario" type="text" placeholder="Nombre de usuario" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>Correo</label>
                                            <input id="txtCorreo" type="email" placeholder="Correo" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>Contraseña</label>
                                            <div class="password-container">
                                                <input id="txtContrasenia" type="password" placeholder="Contraseña" readonly>
                                                <i id="togglePassword" class="fas fa-eye" onclick="mostrarContrasenia(event);"></i>
                                            </div>
                                        </div>
                                        <div class="input-field">
                                            <label>Nombre</label>
                                            <input id="txtNombre" type="text" placeholder="Nombre" name="nombre" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>Apellido Paterno</label>
                                            <input id="txtApellidoPaterno" type="text" placeholder="Apellido Paterno" name="apellidoPaterno" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>Apellido Materno</label>
                                            <input id="txtApellidoMaterno" type="text" placeholder="Apellido Materno" name="apellidoMaterno" readonly>
                                        </div>
                                    </div>
                                    <div class="form-column">
                                        <div class="input-field">
                                            <label>Género</label>
                                            <input id="txtGenero" type="text" placeholder="Género" name="genero" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>Fecha de Nacimiento</label>
                                            <input id="txtFechaNacimiento" type="date" placeholder="Fecha de Nacimiento" name="fechaNacimiento" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>RFC</label>
                                            <input id="txtRFC" type="text" placeholder="RFC" name="rfc" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>CURP</label>
                                            <input id="txtCURP" type="text" placeholder="CURP" name="curp" readonly>
                                        </div>
                                        <div class="input-field">
                                            <label>Teléfono</label>
                                            <input id="txtTelefono" type="tel" placeholder="Teléfono" name="telefono" readonly>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
                <section class="attendance">
                    <div class="attendance-list">
                        <h1>Compras realizadas</h1>
                        <div style="overflow-y: auto; max-height: 400px;"> <!-- Agregamos un div contenedor con scrollbar vertical -->
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Fecha y hora</th>
                                        <th>Tarjeta</th>
                                        <th>Precio</th>
                                    </tr>
                                </thead>
                                <tbody id="tbodyCompra">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <section class="attendance">
                    <div class="attendance-list">
                        <h1>Tarjetas registradas</h1>
                        <div style="overflow-y: auto; max-height: 400px;"> <!-- Agregamos un div contenedor con scrollbar vertical -->
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Nombre tarjeta</th>
                                        <th>N&uacute;mero de tarjeta</th>
                                        <th>Email</th>
                                        <th>Domicilio</th>
                                        <th>Ciudad</th>
                                    </tr>
                                </thead>
                                <tbody id="tbodyTarjeta">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section class="footer">
                    <div class="footer-list">
                        <div class="footer-content">
                            <img src="../../media/img/logoAgromercado2.png" alt="" style="max-width: 200px; height: auto;"/>
                            <p style="font-size: 20px; font-weight: bold; text-transform: uppercase; letter-spacing: 2px;">AGROMERCADO</p>
                        </div>
                        <div class="footer-content">
                            <h2>Contacto</h2>
                            <ul>
                                <li><i class="fas fa-map-marker-alt"></i> <a href="#">León, Guanajuato</a></li>
                                <li><i class="far fa-envelope"></i> <a href="#">stella@gmail.com</a></li>
                                <li><i class="fas fa-phone-alt"></i> <a href="#">+477-160-4844</a></li>
                            </ul>
                        </div>
                        <div class="footer-content">
                            <h2>Enlaces rápidos</h2>
                            <ul>
                                <li><a href="#">Inicio</a></li>
                                <li><a href="../productos/productos.html">Productos</a></li>
                                <li><a href="../compras/compras.html">Compras</a></li>
                                <li><a href="../ventas/ventas.html">Ventas</a></li>
                                <li><a href="../perfil/perfil.html">Perfil</a></li>
                            </ul>
                        </div>
                        <div class="footer-content">
                            <h2>Redes Sociales</h2>
                            <ul class="social-icons">
                                <li><a href="https://www.facebook.com/share/aCxgJAgi47PUpnu5/?mibextid=LQQJ4d"><i class="fab fa-facebook"></i></a></li>
                                <li><a href="https://x.com/agromercadoag?s=21"><i class="fab fa-twitter"></i></a></li>
                                <li><a href="http://linkedin.com/in/agromercado-ag-804918302?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app"><i class="fab fa-linkedin"></i></a></li>
                                <li><a href="https://www.instagram.com/agromercadoag?igsh=MXZ3amMzNW55aWJ3Ng%3D%3D&utm_source=qr"><i class="fab fa-instagram"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </section>

            </section>
        </div>
        <script src="../js/perfil.js" type="text/javascript"></script>
        <script>
                                                    function eliminarToken() {
                                                        localStorage.removeItem('token');
                                                        localStorage.removeItem('comprasRealizadas');
                                                        window.location.replace("../../index.html");
                                                    }
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                var token = localStorage.getItem('token');

                if (!token) {
                    window.location.replace('....//index.html');
                }
            });
        </script>
    </body>
</html>